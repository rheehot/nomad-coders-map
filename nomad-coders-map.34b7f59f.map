{"version":3,"sources":["index.js"],"names":["mapboxgl","accessToken","timer","map","Map","container","style","center","zoom","on","e","console","log","JSON","stringify","point","lngLat","window","features","loadImage","error","image","addImage","addSource","type","data","addLayer","document","getElementById","value","properties","name","userfilter","flyTo","coordinates","keyword","cb","toUpperCase","clearTimeout","setTimeout","users","querySelectorAll","usersData","i","length","element","userName","textContent","area","indexOf","display","push","makerReLoad","uniqueUsersData","usersAreas","user","filter","onlyUnique","index","self","removeLayer","newFeatures","currentArea","includes","toString","getSource","setData"],"mappings":"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","file":"nomad-coders-map.34b7f59f.map","sourceRoot":"..","sourcesContent":["\r\nmapboxgl.accessToken = 'pk.eyJ1Ijoic3VuZ2t1a2tpbSIsImEiOiJjamR3ZTM1OTUwNXY0MnFtb2E0OG04c2lpIn0.nNFmA7VqzxH3lTST9fiK4g';\r\n\r\nvar map = new mapboxgl.Map({\r\n    container: 'map',\r\n    //   style: 'mapbox://styles/mapbox/streets-v8',\r\n    //   style: 'mapbox://styles/mapbox/satellite-v9',\r\n    //   style: 'mapbox://styles/mapbox/outdoors-v10',\r\n    //   style: 'mapbox://styles/mapbox/light-v9',\r\n    //   style: 'mapbox://styles/mapbox/dark-v9',\r\n    //   style: 'mapbox://styles/mapbox/satellite-streets-v10',\r\n    style: 'mapbox://styles/mapbox/navigation-preview-day-v2',\r\n    //   style: 'mapbox://styles/mapbox/navigation-preview-night-v2',\r\n    //   style: 'mapbox://styles/mapbox/navigation-guidance-day-v2',\r\n    //   style: 'mapbox://styles/mapbox/navigation-guidance-night-v2',\r\n    // center: [139.691298,35.6691074],\r\n    center: [55.345276, 20.681379],\r\n    zoom: 1.5\r\n    // zoom: 7\r\n});\r\n\r\n\r\nmap.on('mousemove', function (e) {\r\n    console.log(JSON.stringify(e.point));\r\n    console.log(JSON.stringify(e.lngLat));\r\n});\r\n\r\n\r\nwindow.features = [\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [135.4776404, 34.6783987] // Japan Osaka\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'Japan Osaka'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [139.75298,35.7091074] // Japan Tokyo\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 8,\r\n            \"name\": 'Japan Tokyo'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [-77.0846155, 38.8935755] // USA east\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 4,\r\n            \"name\": 'USA east'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [-119.63646607811285,37.62166841191262] // USA west\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 2,\r\n            \"name\": 'USA west'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [-104.6537497, 37.2582904] // USA\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 6,\r\n            \"name\": 'USA ect'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [145.5768603, -16.8804789] // AUSTRAILIA Cairns\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'AUSTRAILIA Cairns'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [150.6517949, -33.8479271] // AUSTRAILIA Sydney\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'AUSTRAILIA Sydney'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [171.65902071988393,-43.339630362187066] // NEW ZEALAND\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'NEW ZEALAND'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [-73.8703841,45.5579564] // CANADA MONTREAL\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'CANADA MONTREAL'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [-114.2142365, 51.0130333] // CANADA CALGARY\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'CANADA CALGARY'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [-102.9887805,57.0882106] // CANADA\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 3,\r\n            \"name\": 'CANADA'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [-79.4578006,43.6430078] // CANADA TORONTO\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'CANADA TORONTO'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [26.479994411132992,63.30047989554316] // EUROPE FINLAND\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'EUROPE FINLAND'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [10.364291820486585,51.84189746515267] // EUROPE GERMANY\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 2,\r\n            \"name\": 'EUROPE GERMANY'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [2.380981070993272,48.760181558556326] // EUROPE FRANCE\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'EUROPE FRANCE'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [30.6894055, 39.0015493] // EUROPE TURKEY\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'EUROPE TURKEY'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [18.3839918, 47.1556942] // EUROPE HUNGARY\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'EUROPE HUNGARY'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [22.2384469, 38.1245117] // EUROPE GREECE\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'EUROPE GREECE'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [123.13219338267453,10.109205250718531] // PHILLIPINES\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 2,\r\n            \"name\": 'PHILLIPINES'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [102.24431108128505,15.708253001501035] // THAILAND\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 2,\r\n            \"name\": 'THAILAND'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [78.42420521312602,23.562988640162445] // INDIA\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'INDIA'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [101.9916116369136,5.386435151993808] // MALAYSIA\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'MALAYSIA'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [-102.41966036947927,24.99650323762758] // AMERICA MEXICO\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'AMERICA MEXICO'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [-0.2147489, 5.5912077] // AFRICA GHANA (Acra)\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'AFRICA GHANA (Acra)'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [-6.017481373549742,32.97832278716733] // AFRICA MOROCCO\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'AFRICA MOROCCO'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [40.5813355, 24.0133287] // SAUDI ARABIA\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'SAUDI ARABIA'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [116.1172816, 39.9385466] // China Beijing\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'China Beijing'\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"Feature\",\r\n        \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": [22.2384469, 38.1245117] // EUROPE GREECE\r\n        },\r\n        \"properties\": {\r\n            \"museum_count\": 1,\r\n            \"name\": 'EUROPE GREECE'\r\n        }\r\n    }\r\n];\r\nmap.on('load', function () {\r\n    map.loadImage('https://cdn1.iconfinder.com/data/icons/clean-simple/75/iconlocation-12-512.png', function (error, image) {\r\n        //   map.loadImage('https://cdn4.iconfinder.com/data/icons/superuser-web-kit/512/674020-point-of-interest_interest_point_venue_spot_place_location_site-512.png', function(error, image) {\r\n        if (error) throw error;\r\n        map.addImage('cat', image);\r\n        map.addSource('clusters', {\r\n            type: \"geojson\",\r\n            data: {\r\n                \"type\": \"FeatureCollection\",\r\n                \"features\": window.features\r\n            }\r\n        });\r\n\r\n        map.addLayer({\r\n            \"id\": \"clusters-label\",\r\n            \"type\": \"symbol\",\r\n            \"source\": \"clusters\",\r\n            \"layout\": {\r\n                \"text-field\": \"{museum_count}\",\r\n                \"text-font\": [\r\n                    \"DIN Offc Pro Medium\",\r\n                    \"Arial Unicode MS Bold\"\r\n                ],\r\n                \"icon-allow-overlap\":true,\r\n                \"icon-ignore-placement\": true,\r\n                \"text-size\": 16,\r\n                \"icon-image\": \"cat\",\r\n                \"icon-size\": 0.08\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\nmap.on('click', 'clusters-label', function (e) {\r\n    console.log(e);\r\n    document.getElementById('searchtext').value = e.features[0].properties.name;\r\n    window.userfilter(e.features[0].properties.name);\r\n    map.flyTo({ center: e.features[0].properties.coordinates });\r\n    // map.zoomTo(19, {duration: 1000});\r\n});\r\n\r\nvar timer;\r\nwindow.userfilter = (keyword,cb) => {\r\n    window.keyword = keyword.toUpperCase();\r\n    console.log(keyword);\r\n    if (timer) {\r\n        clearTimeout(timer);\r\n    }\r\n    timer = setTimeout(function () {\r\n        var users = document.querySelectorAll('.user');\r\n        console.log(users);\r\n        var usersData = [];\r\n        for (let i = 0; i < users.length; i++) {\r\n            var element = users[i];\r\n            var userName = element.querySelectorAll('.username')[0].textContent.toUpperCase();\r\n            var area = element.querySelectorAll('.area')[0].textContent.toUpperCase();\r\n            var keyword = window.keyword;\r\n            if ((userName.indexOf(keyword) !== -1)\r\n                || (area.indexOf(keyword) !== -1)) {\r\n                element.style.display = 'table';\r\n                usersData.push({\r\n                    name: userName,\r\n                    area\r\n                });\r\n            } else {\r\n                element.style.display = 'none';\r\n            }\r\n        }\r\n        if(cb){\r\n            cb(usersData);\r\n        }\r\n    }, 500);\r\n\r\n};\r\n\r\nwindow.makerReLoad = (usersData) => {\r\n    function onlyUnique(value, index, self) {\r\n        value = value.toUpperCase();\r\n        return self.indexOf(value) === index;\r\n    }\r\n\r\n    // usage example:\r\n    var uniqueUsersData = usersData.map((user) => user.area).filter(onlyUnique);\r\n    var usersAreas = uniqueUsersData;\r\n    console.log(usersAreas);\r\n    map.removeLayer('clusters-label');\r\n    var newFeatures = window.features.filter(function (currentArea) {\r\n        return usersAreas.includes(currentArea.properties.name.toString().toUpperCase());\r\n    }\r\n    );\r\n    console.log(newFeatures);\r\n    map.getSource('clusters').setData({\r\n        \"type\": \"FeatureCollection\",\r\n        \"features\": newFeatures\r\n    });\r\n    map.addLayer({\r\n        \"id\": \"clusters-label\",\r\n        \"type\": \"symbol\",\r\n        \"source\": \"clusters\",\r\n        \"layout\": {\r\n            \"text-field\": \"{museum_count}\",\r\n            \"text-font\": [\r\n                \"DIN Offc Pro Medium\",\r\n                \"Arial Unicode MS Bold\"\r\n            ],\r\n            \"icon-allow-overlap\":true,\r\n            \"icon-ignore-placement\": true,\r\n            \"text-size\": 16,\r\n            \"icon-image\": \"cat\",\r\n            \"icon-size\": 0.08\r\n        }\r\n    });\r\n};"]}